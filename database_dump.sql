PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "migrations" ("id" integer primary key autoincrement not null, "migration" varchar not null, "batch" integer not null);
INSERT INTO migrations VALUES(1,'0001_01_01_000000_create_users_table',1);
INSERT INTO migrations VALUES(2,'0001_01_01_000001_create_cache_table',1);
INSERT INTO migrations VALUES(3,'0001_01_01_000002_create_jobs_table',1);
INSERT INTO migrations VALUES(4,'2025_01_14_173625_create_reservations_table',1);
INSERT INTO migrations VALUES(5,'2025_01_14_181543_create_darkrooms_table',1);
CREATE TABLE IF NOT EXISTS "users" ("id" integer primary key autoincrement not null, "name" varchar not null, "email" varchar not null, "telephone" varchar not null, "street_address" varchar not null, "city" varchar not null, "postal_code" varchar not null, "birthdate" date not null, "email_verified_at" datetime, "password" varchar not null, "is_admin" tinyint(1) not null default '0', "remember_token" varchar, "created_at" datetime, "updated_at" datetime);
INSERT INTO users VALUES(1,'Admin','admin@admin.com','123456789','Admin Street','Admin City','12345','2001-04-15',NULL,'$2y$12$WZBlHaycVeAeldJJQ1da/el5JATMf.PJWUELFMgWa86U2PGIZB9bi',1,NULL,'2025-01-22 13:38:31','2025-01-22 13:44:06');
INSERT INTO users VALUES(2,'Regular User','user@user.com','987654321','User Street','User City','98765','2001-02-16',NULL,'$2y$12$MXuLAyhIUmpUBvOzKublKeDsq2JIZOuWKBkFrBC6l7MDDM84tUbwq',0,NULL,'2025-01-22 18:28:04','2025-01-22 18:28:04');
INSERT INTO users VALUES(3,'Another User','another@another.com','123789456','Another Street','Another City','09876','1998-05-20',NULL,'$2y$12$Bc1sIDPDSsvEwz48.wwV2OnsRcssRXozMklQef9zM0UkX071VpBxK',0,NULL,'2025-01-24 17:36:09','2025-01-24 17:36:09');
CREATE TABLE IF NOT EXISTS "password_reset_tokens" ("email" varchar not null, "token" varchar not null, "created_at" datetime, primary key ("email"));
CREATE TABLE IF NOT EXISTS "sessions" ("id" varchar not null, "user_id" integer, "ip_address" varchar, "user_agent" text, "payload" text not null, "last_activity" integer not null, primary key ("id"));
INSERT INTO sessions VALUES('gAegYgCKaskgkR1e2iUSZ4jbnXM6F2eBWoDYpko4',NULL,'127.0.0.1','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:134.0) Gecko/20100101 Firefox/134.0','YTozOntzOjY6Il90b2tlbiI7czo0MDoib3A4TUtqNGJSbDBvbGNKUDhXejBvVllJWlBKSUNQblVMVXJsbUR1UCI7czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6MjE6Imh0dHA6Ly9sb2NhbGhvc3Q6ODAwMCI7fX0=',1737832645);
INSERT INTO sessions VALUES('idIi6tBB0y1xchxBO2UDwE0MFfHYh3M83VHkwjgN',1,'127.0.0.1','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:134.0) Gecko/20100101 Firefox/134.0','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiNERCMW95S3V2S01hUVMwd3ltbjY5NXlnYnlxd3hnSVpmTEp6U2ZEMSI7czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6MjE6Imh0dHA6Ly9sb2NhbGhvc3Q6ODAwMCI7fXM6NjoiX2ZsYXNoIjthOjI6e3M6Mzoib2xkIjthOjA6e31zOjM6Im5ldyI7YTowOnt9fXM6NTA6ImxvZ2luX3dlYl81OWJhMzZhZGRjMmIyZjk0MDE1ODBmMDE0YzdmNThlYTRlMzA5ODlkIjtpOjE7fQ==',1737892182);
CREATE TABLE IF NOT EXISTS "cache" ("key" varchar not null, "value" text not null, "expiration" integer not null, primary key ("key"));
CREATE TABLE IF NOT EXISTS "cache_locks" ("key" varchar not null, "owner" varchar not null, "expiration" integer not null, primary key ("key"));
CREATE TABLE IF NOT EXISTS "jobs" ("id" integer primary key autoincrement not null, "queue" varchar not null, "payload" text not null, "attempts" integer not null, "reserved_at" integer, "available_at" integer not null, "created_at" integer not null);
CREATE TABLE IF NOT EXISTS "job_batches" ("id" varchar not null, "name" varchar not null, "total_jobs" integer not null, "pending_jobs" integer not null, "failed_jobs" integer not null, "failed_job_ids" text not null, "options" text, "cancelled_at" integer, "created_at" integer not null, "finished_at" integer, primary key ("id"));
CREATE TABLE IF NOT EXISTS "failed_jobs" ("id" integer primary key autoincrement not null, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime not null default CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS "reservations" ("id" integer primary key autoincrement not null, "start_time" datetime not null, "end_time" datetime not null, "user_id" integer not null, "darkroom_id" integer not null, "created_at" datetime, "updated_at" datetime, foreign key("user_id") references "users"("id") on delete cascade, foreign key("darkroom_id") references "darkrooms"("id") on delete cascade);
INSERT INTO reservations VALUES(2,'2025-01-26T12:00:00Z','2025-01-26T15:00:00Z',3,3,'2025-01-25 16:00:57','2025-01-25 16:00:57');
INSERT INTO reservations VALUES(6,'2025-01-26 08:00:00','2025-01-26 11:00:00',2,3,'2025-01-25 18:15:46','2025-01-25 18:15:46');
INSERT INTO reservations VALUES(7,'2025-01-26 08:00:00','2025-01-26 12:00:00',1,4,'2025-01-25 18:23:20','2025-01-25 18:23:20');
CREATE TABLE IF NOT EXISTS "darkrooms" ("id" integer primary key autoincrement not null, "name" varchar not null, "opening_time" time not null, "closing_time" time not null, "is_operational" tinyint(1) not null default '1', "created_at" datetime, "updated_at" datetime);
INSERT INTO darkrooms VALUES(3,'Black and White','08:00','18:00',1,'2025-01-24 17:26:09','2025-01-24 17:26:09');
INSERT INTO darkrooms VALUES(4,'Color','08:00','18:00',1,'2025-01-25 18:22:49','2025-01-25 18:22:49');
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('migrations',5);
INSERT INTO sqlite_sequence VALUES('users',3);
INSERT INTO sqlite_sequence VALUES('darkrooms',4);
INSERT INTO sqlite_sequence VALUES('reservations',7);
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
CREATE INDEX "sessions_user_id_index" on "sessions" ("user_id");
CREATE INDEX "sessions_last_activity_index" on "sessions" ("last_activity");
CREATE INDEX "jobs_queue_index" on "jobs" ("queue");
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE UNIQUE INDEX "darkrooms_name_unique" on "darkrooms" ("name");
COMMIT;
